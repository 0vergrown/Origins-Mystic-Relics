{
   "type":"origins:action_on_block_use",
   "entity_action":{
      "type":"origins:and",
      "actions":[
         {
            "type":"origins:equipped_item_action",
            "equipment_slot":"offhand",
            "action":{
               "type":"origins:consume",
               "amount":1
            }
         },
         {
            "type":"origins:add_xp",
            "levels":-5
         },
         {
            "type":"origins:play_sound",
            "sound":"minecraft:block.anvil.use",
            "volume":1.00,
            "pitch":1.00
         }
      ]
   },
   "block_condition":{
      "type":"origins:in_tag",
      "tag":"minecraft:anvil"
   },
   "item_condition":{
      "type":"origins:and",
      "conditions":[
         {
            "type":"origins:ingredient",
            "ingredient":{
               "tag":"minecraft:swords"
            }
         },
         {
            "type":"origins:has_power",
            "power":"mystic_relics:enchantments/unshackled/level_1",
            "inverted": true
         }
      ]
   },
   "directions":[
      "north",
      "east",
      "south",
      "west",
      "up",
      "down"
   ],
   "hands":[
      "main_hand"
   ],
   "held_item_action":{
      "type":"origins:if_else",
      "condition":{
         "type":"origins:nbt",
         "nbt":"{Enchantments:[{}]}",
         "inverted":true
      },
      "if_action":{
         "type":"origins:and",
         "actions":[
            {
               "type":"origins:modify",
               "modifier":"mystic_relics:enchantments/unshackled/level_1_apply"
            },
            {
               "type":"origins:merge_nbt",
               "nbt":"{Enchantments:[{}]}"
            }
         ]
      },
      "else_action":{
         "type":"origins:modify",
         "modifier":"mystic_relics:enchantments/unshackled/level_1_apply"
      }
   },
   "action_result":"success",
   "condition":{
      "type":"origins:and",
      "conditions":[
         {
            "type":"origins:sneaking"
         },
         {
            "type":"origins:equipped_item",
            "equipment_slot":"offhand",
            "item_condition":{
               "type":"origins:and",
               "conditions":[
                  {
                     "type":"origins:ingredient",
                     "ingredient":{
                        "item":"minecraft:enchanted_book"
                     }
                  },
                  {
                     "type":"origins:nbt",
                     "nbt":"{Tags:[\"enchantment\",\"unshackled_book\",\"level_1\"]}"
                  }
               ]
            }
         },
         {
            "type":"origins:xp_levels",
            "comparison":">=",
            "compare_to":5
         }
      ]
   }
}